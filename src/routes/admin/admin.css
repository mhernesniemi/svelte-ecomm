@reference "tailwindcss";

/* ── Theme tokens (light = default, dark = .dark on <html>) ────────── */
:root {
	--color-background: oklch(0.985 0.002 247);
	--color-surface: oklch(1 0 0);
	--color-muted: oklch(0.968 0.003 264);
	--color-muted-strong: oklch(0.929 0.006 264);

	--color-foreground: oklch(0.145 0.015 285);
	--color-foreground-secondary: oklch(0.373 0.013 285);
	--color-foreground-tertiary: oklch(0.446 0.011 264);
	--color-muted-foreground: oklch(0.556 0.01 264);
	--color-placeholder: oklch(0.708 0.01 264);

	--color-border: oklch(0.929 0.006 264);
	--color-input-border: oklch(0.872 0.009 264);

	--color-hover: oklch(0.985 0.002 247);

	--color-destructive-subtle: oklch(0.971 0.013 17.38);
	--color-accent-subtle: oklch(0.932 0.032 255);
}

.dark {
	/* Dark, neutral bluish-gray ramp (Tailwind gray-ish) */
	--color-background: oklch(0.175 0.014 265);
	--color-surface: oklch(0.215 0.014 265);
	--color-muted: oklch(0.255 0.014 265);
	--color-muted-strong: oklch(0.31 0.014 265);

	--color-foreground: oklch(0.96 0.004 265);
	--color-foreground-secondary: oklch(0.86 0.006 265);
	--color-foreground-tertiary: oklch(0.72 0.006 265);
	--color-muted-foreground: oklch(0.60 0.006 265);
	--color-placeholder: oklch(0.48 0.006 265);

	--color-border: oklch(0.30 0.012 265);
	--color-input-border: oklch(0.36 0.012 265);

	--color-hover: oklch(0.245 0.014 265);

	--color-destructive-subtle: oklch(0.24 0.05 25);
	--color-accent-subtle: oklch(0.24 0.03 265);
}

/* ── Dark mode: override @tailwindcss/forms (scoped to admin) ────── */
.dark [data-admin] select,
.dark [data-admin] [type="text"],
.dark [data-admin] [type="email"],
.dark [data-admin] [type="url"],
.dark [data-admin] [type="password"],
.dark [data-admin] [type="number"],
.dark [data-admin] [type="date"],
.dark [data-admin] [type="datetime-local"],
.dark [data-admin] [type="month"],
.dark [data-admin] [type="search"],
.dark [data-admin] [type="tel"],
.dark [data-admin] [type="time"],
.dark [data-admin] [type="week"],
.dark [data-admin] [multiple],
.dark [data-admin] textarea {
	background-color: var(--color-surface);
	border-color: var(--color-input-border);
	color: var(--color-foreground);
}

.dark [data-admin] select {
	background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
}

.dark [data-admin] input::placeholder,
.dark [data-admin] textarea::placeholder {
	color: var(--color-placeholder);
}

.dark [data-admin] [type="checkbox"],
.dark [data-admin] [type="radio"] {
	background-color: var(--color-surface);
	border-color: var(--color-input-border);
}

/* ── Dark mode: prose (typography plugin for rich text editor) ────── */
.dark .prose {
	--tw-prose-body: var(--color-foreground);
	--tw-prose-headings: var(--color-foreground);
	--tw-prose-lead: var(--color-foreground-secondary);
	--tw-prose-links: oklch(0.623 0.214 259.815);
	--tw-prose-bold: var(--color-foreground);
	--tw-prose-counters: var(--color-muted-foreground);
	--tw-prose-bullets: var(--color-muted-foreground);
	--tw-prose-hr: var(--color-border);
	--tw-prose-quotes: var(--color-foreground-secondary);
	--tw-prose-quote-borders: var(--color-border);
	--tw-prose-captions: var(--color-muted-foreground);
	--tw-prose-code: var(--color-foreground);
	--tw-prose-pre-code: var(--color-foreground);
	--tw-prose-pre-bg: var(--color-muted);
	--tw-prose-th-borders: var(--color-border);
	--tw-prose-td-borders: var(--color-border);
}

/* ── Dark mode: Tiptap placeholder ───────────────────────────────── */
.dark .tiptap p.is-editor-empty:first-child::before {
	color: var(--color-placeholder) !important;
}

/* ── Dark mode: focus ring offset color (scoped to admin) ────────── */
.dark [data-admin] *:focus-visible {
	--tw-ring-offset-color: var(--color-surface);
}

/* ── Admin-specific styles ───────────────────────────────────────── */

/* Override global focus styles for admin UI */
[data-admin] *:focus-visible {
	@apply ring-2 ring-blue-500 ring-offset-2 outline-none;
}
