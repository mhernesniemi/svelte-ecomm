@reference "tailwindcss";

/* ── Theme tokens (scoped to admin wrapper) ──────────────────────── */
[data-admin] {
	--color-background: oklch(0.985 0.002 247);
	--color-surface: oklch(1 0 0);
	--color-muted: oklch(0.968 0.003 264);
	--color-muted-strong: oklch(0.929 0.006 264);

	--color-foreground: oklch(0.145 0.015 285);
	--color-foreground-secondary: oklch(0.373 0.013 285);
	--color-foreground-tertiary: oklch(0.446 0.011 264);
	--color-muted-foreground: oklch(0.556 0.01 264);
	--color-placeholder: oklch(0.708 0.01 264);

	--color-border: oklch(0.929 0.006 264);
	--color-input-border: oklch(0.872 0.009 264);

	--color-hover: oklch(0.985 0.002 247);

	--color-destructive-subtle: oklch(0.971 0.013 17.38);
	--color-accent-subtle: oklch(0.932 0.032 255);

	--color-sidebar: oklch(0.97 0.003 264);
	--color-sidebar-border: oklch(0.929 0.006 264);
	--color-sidebar-hover: oklch(0.94 0.006 264);
	--color-sidebar-active: oklch(0.94 0.006 264);
	--color-sidebar-foreground: oklch(0.373 0.013 285);
	--color-sidebar-foreground-active: oklch(0.145 0.015 285);
	--color-sidebar-muted: oklch(0.556 0.01 264);
}

[data-admin].dark {
	--color-background: oklch(0.175 0.014 265);
	--color-surface: oklch(0.215 0.014 265);
	--color-muted: oklch(0.255 0.014 265);
	--color-muted-strong: oklch(0.31 0.014 265);

	--color-foreground: oklch(0.96 0.004 265);
	--color-foreground-secondary: oklch(0.78 0.006 265);
	--color-foreground-tertiary: oklch(0.72 0.006 265);
	--color-muted-foreground: oklch(0.6 0.006 265);
	--color-placeholder: oklch(0.48 0.006 265);

	--color-border: oklch(0.3 0.012 265);
	--color-input-border: oklch(0.36 0.012 265);

	--color-hover: oklch(0.245 0.014 265);

	--color-destructive-subtle: oklch(0.24 0.05 25);
	--color-accent-subtle: oklch(0.24 0.03 265);

	--color-sidebar: oklch(0.155 0.014 265);
	--color-sidebar-border: oklch(0.25 0.012 265);
	--color-sidebar-hover: oklch(0.2 0.014 265);
	--color-sidebar-active: oklch(0.2 0.014 265);
	--color-sidebar-foreground: oklch(0.72 0.006 265);
	--color-sidebar-foreground-active: oklch(0.96 0.004 265);
	--color-sidebar-muted: oklch(0.52 0.006 265);
}

/* ── Dark mode: select arrow ──────────────────────────────────────── */
[data-admin].dark select {
	background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
}

/* ── Dark mode: prose (rich text editor) ─────────────────────────── */
[data-admin].dark .prose {
	--tw-prose-body: var(--color-foreground);
	--tw-prose-headings: var(--color-foreground);
	--tw-prose-lead: var(--color-foreground-secondary);
	--tw-prose-links: oklch(0.623 0.214 259.815);
	--tw-prose-bold: var(--color-foreground);
	--tw-prose-counters: var(--color-muted-foreground);
	--tw-prose-bullets: var(--color-muted-foreground);
	--tw-prose-hr: var(--color-border);
	--tw-prose-quotes: var(--color-foreground-secondary);
	--tw-prose-quote-borders: var(--color-border);
	--tw-prose-captions: var(--color-muted-foreground);
	--tw-prose-code: var(--color-foreground);
	--tw-prose-pre-code: var(--color-foreground);
	--tw-prose-pre-bg: var(--color-muted);
	--tw-prose-th-borders: var(--color-border);
	--tw-prose-td-borders: var(--color-border);
}

/* ── Dark mode: Tiptap placeholder ───────────────────────────────── */
[data-admin].dark .tiptap p.is-editor-empty:first-child::before {
	color: var(--color-placeholder) !important;
}

/* ── Dark mode: focus ring offset ────────────────────────────────── */
[data-admin].dark *:focus-visible {
	--tw-ring-offset-color: var(--color-surface);
}

/* ── Admin-specific: override global focus styles ────────────────── */
[data-admin] *:focus-visible {
	@apply ring-2 ring-blue-500 ring-offset-2 outline-none;
}

/* ── Strip all form plugin / focus styles from command input ──────── */
[data-admin] [data-slot="command-input"] {
	border: none;
	background: transparent;
	padding: 0;
	box-shadow: none;
	outline: none;
}

[data-admin] [data-slot="command-input"]:focus,
[data-admin] [data-slot="command-input"]:focus-visible {
	border: none;
	box-shadow: none;
	outline: none;
	--tw-ring-shadow: none;
	--tw-ring-offset-shadow: none;
}
