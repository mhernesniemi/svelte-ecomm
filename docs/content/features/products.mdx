
# Products

Products in Hoikka support variants, translations, and facets (attributes).

## Data Model

```
Product
├── slug (unique identifier)
├── featuredAsset
├── translations (name, description per language)
├── variants (SKU, price, stock)
└── facetValues (attributes like color, size)
```

## Multi-Language Support

Products use translation tables:

```typescript
// Query with translations
const product = await db.query.products.findFirst({
	where: eq(products.id, 123),
	with: { translations: true }
});

// Get localized name
const name = product.translations.find((t) => t.languageCode === "en")?.name;
```

## Variants

Each product has one or more variants:

```typescript
// Product: "T-Shirt"
// Variants: "T-Shirt - Red / M", "T-Shirt - Blue / L"

const variant = {
	sku: "TSHIRT-RED-M",
	price: 2999, // cents
	stock: 50,
	facetValues: [redColor, mediumSize]
};
```

## Facets (Attributes)

Facets define product attributes for filtering:

```typescript
// Facet: "Color"
// Values: "Red", "Blue", "Green"

// Facet: "Size"
// Values: "S", "M", "L", "XL"
```

Products and variants can have facet values assigned for:

- Filtering in collections
- Search refinement
- Variant selection

## Search

Full-text search using PostgreSQL:

```typescript
const results = await productService.search("shirt", "en");
```

## Admin Operations

```typescript
// Create product
await productService.create({
	slug: "blue-shirt",
	translations: [{ languageCode: "en", name: "Blue Shirt", description: "..." }]
});

// Variant operations are handled through productService
// See src/lib/server/services/products.ts for variant management
```
